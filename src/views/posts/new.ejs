<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
    <script src="/javascripts/validatePost.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
    <script>
      $("#summernote").summernote();
    </script>
    <title>kku.log - Post</title>
  </head>

  <body>
    <div class="container mt-3">
      <div class="row">
        <h1>Post</h1>
      </div>
      <div class="row">
        <form
          action="/posts"
          method="POST"
          novalidate
          class="needs-validation"
          enctype="multipart/form-data"
        >
          <div class="d-flex flex-column">
            <div class="input-group mb-3">
              <label class="input-group-text" for="subcategory">카테고리</label>
              <select
                name="subcategory"
                class="form-select"
                id="subcategory"
                aria-label="Default select example"
              >
                <option selected>카테고리를 선택하세요.</option>
                <% for (let sub of subcategories) { %>
                <option value="<%= sub.name %>"><%= sub.name %></option>
                <% } %>
              </select>
              <div class="invalid-feedback">유효한 카테고리 선택 필요</div>
            </div>
            <div class="mb-3">
              <label class="form-label" for="heading">제목 </label>
              <input
                class="form-control"
                type="text"
                id="heading"
                name="title"
                required
              />
              <div class="invalid-feedback">유효한 제목 선택 필요</div>
            </div>
            <textarea id="summernote" name="content"></textarea>

            <div class="mb-3">
              <label class="form-label" for="thumbnail">썸네일</label>
              <input
                type="file"
                class="form-control"
                id="thumbnail"
                name="thumbnail"
              />
              <div class="invalid-feedback">유효한 썸네일 선택 필요</div>
            </div>
            <div class="mb-3">
              <label class="form-label" for="tags">태그</label>
              <input
                class="form-control"
                type="text"
                name="tags"
                id="tags"
                required
              />
              <div class="invalid-feedback">유효한 태그 작성 필요</div>
            </div>
            <div class="text-center">
              <button class="btn btn-success w-25" type="submit">
                임시저장
              </button>
              <button class="btn btn-primary w-25" type="submit">글쓰기</button>
              <a href="/">
                <button class="btn btn-danger w-25" type="button">
                  홈으로
                </button>
              </a>
            </div>
          </div>
        </form>
      </div>
      <div class="row"></div>
    </div>
    <script>
      $(document).ready(function () {
        $("#summernote").summernote();
      });
    </script>
    <script src="/javascripts/validatePost.js"></script>
  </body>
</html>
